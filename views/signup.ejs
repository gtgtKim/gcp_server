<% layout('layout') %>
<% title = `sign-up`; %>
<% headScripts = `
  <script>
    function validateForm() {
      const username = document.querySelector('input[name="username"]').value;
      const password = document.querySelector('input[name="password"]').value;
      const confirmPassword = document.querySelector('input[name="confirmPassword"]').value;
      const email = document.querySelector('input[name="email"]').value;
      const usernamePattern = /^[a-z0-9]{4,}$/;

      if (!usernamePattern.test(username)) {
          alert("아이디는 영어 소문자와 숫자의 조합으로 최소 4자 이상이어야 합니다.");
          return false;
      }

      if (password.length < 4) {
          alert("비밀번호는 최소 4자리 이상이어야 합니다.");
          return false;
      }

      if (password !== confirmPassword) {
          alert("비밀번호가 일치하지 않습니다.");
          return false;
      }

      const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      if (!emailPattern.test(email)) {
          alert("유효한 이메일 주소를 입력하세요.");
          return false;
      }

      return true;
  }
  </script>
` %>


<h1>Signup Page</h1>

<h2>회원가입</h2>
<form action="/signup" method="POST" onsubmit="return validateForm()">
  <input type="text" name="username" placeholder="아이디 (영어 소문자 및 숫자 조합, 4자 이상)" required>
  <input type="password" name="password" placeholder="비밀번호 (4자리 이상)" required>
  <input type="password" name="confirmPassword" placeholder="비밀번호 확인" required>
  <input type="email" name="email" placeholder="이메일" required>
  <select name="gender" required>
    <option value="">성별 선택</option>
    <option value="male">남</option>
    <option value="female">여</option>
  </select>
  <button type="submit">회원가입</button>
</form>
<div class="links">
  <a href="/login">로그인 화면으로 돌아가기</a>
</div>